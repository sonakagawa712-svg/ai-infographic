<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI×ゆとり研究</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f4f8; /* 薄い背景色 */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 上部に揃える */
            min-height: 100vh;
            padding: 2rem;
            box-sizing: border-box;
            /* 固定ナビゲーションの高さに合わせてpadding-bottomを調整 */
            padding-bottom: 15rem; /* デスクトップのデフォルト値 (メッセージ、ボタン、再生バー含む) */
        }
        .container {
            max-width: 900px; /* コンテンツに合わせて少し広めに */
            width: 100%;
            background-color: #ffffff;
            border-radius: 1.5rem; /* より丸く */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 2.5rem; /* パディングを増やす */
            box-sizing: border-box;
            opacity: 0; /* トップ画面の初期状態は非表示 */
            transition: opacity 0.5s ease-in-out; /* フェードインアニメーション */
        }
        .container.visible {
            opacity: 1; /* 表示状態 */
        }

        .main-title {
            font-size: 2.5rem; /* メインタイトルを大きく */
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 0.75rem;
            line-height: 1.2;
        }
        .sub-title {
            font-size: 1.25rem;
            color: #607d8b;
            text-align: center;
            margin-bottom: 0.5rem; /* 名前との間隔を詰める */
        }
        .presenter-info {
            font-size: 1.1rem;
            color: #4a5568;
            text-align: right; /* 右揃え */
            margin-bottom: 2.5rem; /* 発表者情報の下にスペース */
        }
        .process-section { /* 各学習ステップのメインセクション */
            margin-bottom: 3.5rem; /* メインセクション間のスペース */
            text-align: center;
            padding: 1.5rem 2.5rem; /* セクション内のパディング */
            border-radius: 1rem; /* セクションの角を丸く */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* セクションの影 */
            opacity: 0; /* 初期状態は非表示 */
            transition: opacity 0.5s ease-in-out; /* フェードインアニメーション */
        }
        .process-section.visible {
            opacity: 1; /* 表示状態 */
        }
        .process-section:not(:last-child) {
            border-bottom: none; /* 背景色で区切るため下線なし */
            margin-bottom: 3.5rem;
        }

        /* 各プロセスセクションの背景色 */
        .process-section.step-1 { background-color: #e0f2f7; /* 課題設定の薄い青 */ }
        .process-section.step-2 { background-color: #e8f5e9; /* 情報収集の薄い緑 */ }
        .process-section.step-3 { background-color: #f3e5f5; /* 整理分析の薄い紫 */ }
        .process-section.step-4 { background-color: #fff3e0; /* まとめ表現の薄いオレンジ */ }


        .section-title { /* サブコンセプトのタイトル (例: 明確化) */
            position: relative;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: #34495e; /* 暗めのタイトル色 */
            text-align: center;
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 0;
            width: 50px;
            height: 4px;
            background-color: #3498db; /* 青のアクセント */
            border-radius: 2px;
        }
        .concept-visual-group { /* Before/Afterのビジュアルグループ */
            display: flex;
            flex-direction: column; /* 縦に並べる */
            align-items: center; /* 中央揃え */
            gap: 1.5rem; /* BeforeとAfterの間隔 */
            margin-top: 2rem;
            margin-bottom: 2rem; /* 各ビジュアルグループの下にスペース */
        }
        .visual-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .visual-label {
            font-weight: bold;
            font-size: 1.125rem;
            color: #555;
            margin-bottom: 0.75rem;
        }
        .concept-visual {
            border-radius: 6px;
            transition: all 0.5s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            background-color: #f8f8f8; /* ビジュアルのベース背景色 */
            border: 1px solid #e0e0e0; /* 薄いボーダー */
            height: 60px; /* ビジュアルエリアの高さ */
            width: 70%; /* ビジュアルエリアの幅 */
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* 説明行のスタイル */
        .explanation-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem; /* ボックスと矢印の間隔 */
            margin-top: -1rem; /* ビジュアルに近づける */
            margin-bottom: 2rem; /* 説明の下にスペース */
            width: 90%; /* 幅を広げる */
            max-width: 600px; /* 最大幅を制限 */
            margin-left: auto;
            margin-right: auto;
        }
        .explanation-box {
            background-color: #ecf0f1;
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            flex: 1; /* 等しいスペースを占める */
            font-size: 0.9rem;
            color: #34495e;
            text-align: left; /* ボックス内のテキストを左揃え */
            min-height: 50px; /* 高さを揃える */
            display: flex;
            align-items: center; /* テキストを垂直方向中央揃え */
        }
        .explanation-arrow {
            width: 24px;
            height: 24px;
            color: #3498db; /* 青い矢印 */
            flex-shrink: 0; /* 矢印が縮まないようにする */
        }
        .explanation-arrow svg {
            width: 100%;
            height: 100%;
        }
        .icon-small {
            width: 1.25rem; /* 20px */
            height: 1.25rem; /* 20px */
            margin-right: 0.5rem;
            flex-shrink: 0; /* 縮まないようにする */
            color: #34495e; /* デフォルトのアイコン色 */
        }

        /* --- 課題設定: 明確化 (Clarity) の表現 --- */
        .clarity-visual .shape {
            width: 60%;
            height: 30px;
            border-radius: 4px;
        }
        .clarity-before .shape {
            background-color: #bdc3c7; /* グレー */
            filter: blur(5px); /* ぼかし効果 */
        }
        .clarity-after .shape {
            background-color: #27ae60; /* 緑 */
        }

        /* --- 課題設定: 具体化 (Concretization) の表現 --- */
        .concretization-visual {
            display: flex; /* 図形を並べるため */
            gap: 5px; /* 図形間の間隔 */
            padding: 10px;
            box-sizing: border-box;
        }
        .concretization-before .shape {
            width: 50px;
            height: 40px;
            border-radius: 50%; /* 楕円形 */
            background-color: #d1b2e8; /* 薄い紫 */
            filter: blur(3px); /* 少し不明瞭 */
        }
        .concretization-after .shape {
            width: 30px;
            height: 30px;
            background-color: #7a36c7; /* 濃い紫 */
            border-radius: 4px; /* はっきりした形 */
        }

        /* --- 課題設定: 多角的視点 (Multi-faceted Perspective) の表現 --- */
        .perspective-visual {
            display: flex;
            position: relative;
            width: 70%;
        }
        .perspective-before .line {
            width: 80%;
            height: 10px;
            background-color: #b0c4de; /* 薄いミュートブルー */
            border-radius: 5px;
        }
        .perspective-after .line {
            width: 50%; /* 線を長くする */
            height: 6px; /* 少し細く */
            background-color: #2980b9; /* 濃い青 */
            border-radius: 3px;
            position: absolute;
            transform-origin: center center; /* 中央から回転 */
        }
        /* 長い線のためにtranslateXを調整し、放射状に見せる */
        .perspective-after .line:nth-child(1) { transform: rotate(0deg) translateX(25px); }
        .perspective-after .line:nth-child(2) { transform: rotate(30deg) translateX(25px); }
        .perspective-after .line:nth-child(3) { transform: rotate(60deg) translateX(25px); }
        .perspective-after .line:nth-child(4) { transform: rotate(90deg) translateX(25px); }
        .perspective-after .line:nth-child(5) { transform: rotate(120deg) translateX(25px); }
        .perspective-after .line:nth-child(6) { transform: rotate(150deg) translateX(25px); }
        .perspective-after .line:nth-child(7) { transform: rotate(180deg) translateX(25px); }
        .perspective-after .line:nth-child(8) { transform: rotate(210deg) translateX(25px); }
        .perspective-after .line:nth-child(9) { transform: rotate(240deg) translateX(25px); }
        .perspective-after .line:nth-child(10) { transform: rotate(270deg) translateX(25px); }
        .perspective-after .line:nth-child(11) { transform: rotate(300deg) translateX(25px); }
        .perspective-after .line:nth-child(12) { transform: rotate(330deg) translateX(25px); }
        .perspective-after .line-group {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- 情報収集: 時間, 質, 量 の表現 --- */
        .info-collection-visual .line {
            border-radius: 6px;
            transition: all 0.5s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        /* 時間短縮 */
        .time-reduction-before .line { width: 80%; height: 12px; background-color: #bdc3c7; }
        .time-reduction-after .line { width: 35%; height: 12px; background-color: #27ae60; }
        /* 質が深まる */
        .quality-deepening-before .line { width: 60%; height: 12px; background: linear-gradient(to right, #FFC0CB, #FFD700, #98FB98, #ADD8E6, #CCCCFF); }
        .quality-deepening-after .line { width: 60%; height: 12px; background: linear-gradient(to right, #FF0000, #FFA500, #FFFF00, #008000, #0000FF, #4B0082, #EE82EE); }
        /* 量が増加 */
        .quantity-increase-before .line { width: 70%; height: 12px; background-color: #d1b2e8; }
        .quantity-increase-after .line { width: 70%; height: 20px; background-color: #7a36c7; }

        /* --- 整理分析: 構造化, 洞察力, 適時性 の表現 --- */
        .structuredness-visual { width: 70%; height: 60px; display: flex; align-items: center; justify-content: center; background-color: #f8f8f8; border: 1px solid #e0e0e0; border-radius: 0.75rem; position: relative; overflow: hidden; }
        .structuredness-dot { position: absolute; width: 8px; height: 8px; border-radius: 50%; background-color: #607d8b; }
        .structuredness-before .structuredness-dot:nth-child(1) { top: 15px; left: 20%; }
        .structuredness-before .structuredness-dot:nth-child(2) { top: 25px; left: 30%; }
        .structuredness-before .structuredness-dot:nth-child(3) { top: 35px; left: 25%; }
        .structuredness-before .structuredness-dot:nth-child(4) { top: 10px; left: 70%; }
        .structuredness-before .structuredness-dot:nth-child(5) { top: 20px; left: 80%; }
        .structuredness-before .structuredness-dot:nth-child(6) { top: 30px; left: 75%; }
        .structuredness-after .structuredness-dot { position: relative; width: 8px; height: 8px; border-radius: 50%; background-color: #2980b9; margin: 4px; }
        .structuredness-after { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(2, 1fr); gap: 2px; padding: 10px; box-sizing: border-box; background-color: #e3f2fd; border: 1px solid #add8e6; border-radius: 0.75rem; align-items: center; justify-content: center; }

        .insightfulness-visual { width: 70%; height: 60px; display: flex; align-items: center; justify-content: center; background-color: #f8f8f8; border: 1px solid #e0e0e0; border-radius: 0.75rem; position: relative; }
        .insightfulness-before .insight-line { width: 80%; height: 8px; background-color: #b0c4de; border-radius: 4px; }
        .insightfulness-after .insight-line { width: 80%; height: 8px; background: linear-gradient(to right, #0a5f97, #00b0ff, #0a5f97); border-radius: 4px; position: relative; box-shadow: 0 0 15px rgba(0, 176, 255, 0.7); }

        .timeliness-visual .line { height: 12px; border-radius: 6px; transition: all 0.5s ease-in-out; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
        .timeliness-before .line { width: 80%; background-color: #e74c3c; }
        .timeliness-after .line { width: 35%; background-color: #1abc9c; }

        /* --- まとめ表現: 効率性, 多様性, 伝達力 の表現 --- */
        .efficiency-visual { width: 70%; }
        .efficiency-visual .line { height: 12px; border-radius: 6px; }
        .efficiency-before .line { width: 80%; background-color: #bdc3c7; }
        .efficiency-after .line { width: 40%; background-color: #27ae60; }

        .diversity-visual { width: 70%; }
        .diversity-visual .shape { position: absolute; background-color: #6a5acd; border-radius: 4px; }
        .diversity-before .shape { width: 40px; height: 40px; }
        .diversity-after { display: flex; gap: 10px; padding: 10px; box-sizing: border-box; }
        .diversity-after .shape { position: relative; width: 30px; height: 30px; background-color: #6a5acd; opacity: 0.8; }
        .diversity-after .shape.circle { border-radius: 50%; background-color: #dc3912; }
        .diversity-after .shape.triangle { clip-path: polygon(50% 0%, 0% 100%, 100% 100%); background-color: #ff9900; }
        .diversity-after .shape.square { background-color: #008000; }

        .impact-visual { width: 70%; }
        .impact-visual .line { width: 80%; height: 12px; border-radius: 6px; }
        .impact-before .line { background-color: rgba(189, 195, 199, 0.5); filter: blur(2px); }
        .impact-after .line { background-color: #3498db; box-shadow: 0 0 15px rgba(52, 152, 219, 0.7); }

        /* 固定ナビゲーションコンテナ */
        .fixed-nav-container {
            position: fixed;
            bottom: 1rem; /* 下からの距離 */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column; /* メッセージとボタン群を縦に並べる */
            align-items: center; /* コンテンツを水平中央揃え */
            flex-wrap: wrap; /* ボタンの折り返しは維持 */
            justify-content: center;
            gap: 0.5rem; /* ボタン間のデフォルト間隔 */
            z-index: 1000;
            /* 背景色を変更 */
            background-color: rgba(226, 232, 240, 0.95); /* 落ち着いたグレー */
            padding: 0.5rem 1.5rem 1rem; /* メッセージ用に上部パディングを調整 */
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            width: auto; /* デスクトップでは幅を自動調整 */
            max-width: calc(100% - 4rem); /* コンテナの左右に2remずつパディングを確保 */
        }

        /* 固定ナビゲーションバー内のメッセージスタイル */
        .fixed-nav-message-inside {
            font-size: 0.8rem; /* デスクトップで少し小さく */
            color: #4a5568; /* 落ち着いたグレー */
            text-align: center;
            width: 100%; /* 親要素の幅いっぱいに広げる */
            margin-bottom: 0.75rem; /* ボタンとの間隔 */
            white-space: nowrap; /* デスクトップでは1行に保つ */
            overflow: hidden;
            text-overflow: ellipsis; /* はみ出したテキストを省略記号にする */
            padding: 0 0.5rem; /* 左右に少しパディング */
        }


        /* 全てのスクロールボタンの共通スタイル */
        .scroll-button-group { /* ボタンを横並びにするための新しいグループ */
            display: flex;
            flex-wrap: nowrap; /* ボタンが折り返さないようにする */
            overflow-x: auto; /* 横スクロールを有効にする */
            justify-content: center; /* 中央揃え */
            gap: 0.5rem; /* ボタン間の間隔 */
            width: 100%; /* 親要素の幅いっぱいに広げる */
            padding-bottom: 0.5rem; /* スクロールバーのためのスペース */
            -webkit-overflow-scrolling: touch; /* iOSでのスムーズなスクロール */
            scrollbar-width: none; /* Firefoxでスクロールバーを非表示にする */
        }
        .scroll-button-group::-webkit-scrollbar { /* Chrome/Safariでスクロールバーを非表示にする */
            display: none;
        }

        .scroll-button, .process-category-button, .audio-button { /* audio-buttonも共通スタイルに含める */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: bold;
            font-size: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            margin: 0.25rem; /* 固定ナビゲーション内のマージン */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent; /* デフォルトは透明なボーダー */
            white-space: nowrap; /* ボタン内のテキストが改行されないようにする */
            flex-shrink: 0; /* ボタンが縮まないようにする */
        }
        .scroll-button:hover, .process-category-button:hover, .audio-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        /* 「AIがもたらす『ゆとり』の変容」ボタンのスタイル */
        .scroll-button.primary {
            background: linear-gradient(135deg, #B19CD9 0%, #FFB6C1 100%); /* 暖かみのある紫とピンクのグラデーション */
            color: white; /* 文字色を白に */
            border-color: #B19CD9; /* グラデーションの開始色に合わせる */
        }
        .scroll-button.primary:hover {
            background: linear-gradient(135deg, #9370DB 0%, #FF69B4 100%); /* ホバーで少し濃く */
            border-color: #9370DB;
        }
        /* 「人でしかできないこと：先生の存在意義」ボタンのスタイル */
        .scroll-button.secondary {
            background: linear-gradient(135deg, #9ACD32 0%, #FFD700 100%); /* 明るいシトラス系のグラデーション */
            color: white; /* 文字色を白に */
            border-color: #9ACD32; /* グラデーションの開始色に合わせる */
        }
        .scroll-button.secondary:hover {
            background: linear-gradient(135deg, #7CFC00 0%, #FFC125 100%); /* ホバーで少し濃く */
            border-color: #7CFC00;
        }
        /* 「ページを閉じる」ボタンのスタイル - 優しい配色 */
        .scroll-button.close-page-button {
            background-color: #fca5a5; /* 薄い赤/ピンク */
            color: #b91c1c; /* 暗めの赤のテキスト */
            border-color: #fca5a5;
        }
        .scroll-button.close-page-button:hover {
            background-color: #ef4444; /* ホバーでより鮮やかな赤 */
            color: white;
            border-color: #ef4444;
        }

        /* 「4つの業務プロセス」ボタンのスタイル */
        /* 統合されたボタンの新しい色 */
        .process-category-button#btn-all-process-steps {
            background: linear-gradient(135deg, #1E90FF 0%, #32CD32 100%); /* 鮮やかな青から緑のグラデーション */
            color: white; /* 文字色を白に */
            border-color: #1E90FF; /* グラデーションの開始色に合わせる */
            font-weight: bold;
            font-size: 1rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
        }
        .process-category-button#btn-all-process-steps:hover {
            background: linear-gradient(135deg, #007BFF 0%, #228B22 100%); /* ホバーで少し濃く */
            border-color: #007BFF;
        }
        /* 各業務プロセスボタンの特定の色 */
        .process-category-button.step-1 { background-color: #3498db; border-color: #3498db; } /* 課題設定の青 */
        .process-category-button.step-1:hover { background-color: #2980b9; border-color: #2980b9; }
        .process-category-button.step-2 { background-color: #2ecc71; border-color: #2ecc71; } /* 情報収集の緑 */
        .process-category-button.step-2:hover { background-color: #27ae60; border-color: #27ae60; }
        .process-category-button.step-3 { background-color: #9b59b6; border-color: #9b59b6; } /* 整理分析の紫 */
        .process-category-button.step-3:hover { background-color: #8e44ad; border-color: #8e44ad; }
        .process-category-button.step-4 { background-color: #f39c12; border-color: #f39c12; } /* まとめ表現のオレンジ */
        .process-category-button.step-4:hover { background-color: #e67e22; border-color: #e67e22; }

        /* アクティブ状態のボタンのスタイル */
        .scroll-button.active, .process-category-button.active, .audio-button.active {
            filter: brightness(1.1); /* 少し明るくする */
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.5); /* 青色の光るボーダー */
            transform: translateY(-2px);
        }
        .process-category-button#btn-all-process-steps.active { box-shadow: 0 0 0 3px rgba(30, 144, 255, 0.5); } /* 統合ボタンのアクティブ状態 (グラデーションの開始色に合わせる) */
        .scroll-button.primary.active { box-shadow: 0 0 0 3px rgba(177, 156, 217, 0.5); } /* AIがもたらす「ゆとり」の変容ボタンのアクティブ状態 */
        .scroll-button.secondary.active { box-shadow: 0 0 0 3px rgba(154, 205, 50, 0.5); } /* 人でしかできないこと：先生の存在意義ボタンのアクティブ状態 */

        /* 音声再生ボタンのスタイル */
        .audio-button {
            background: linear-gradient(135deg, #FF6F61 0%, #FFD700 100%); /* 暖かみのあるオレンジから黄色のグラデーション */
            color: white;
            border-color: #FF6F61;
        }
        .audio-button:hover {
            background: linear-gradient(135deg, #E04D3F 0%, #FFC107 100%);
            border-color: #E04D3F;
        }
        .audio-button.active {
            box-shadow: 0 0 0 3px rgba(255, 111, 97, 0.5); /* アクティブ時の影 */
        }


        /* セクションを非表示にするクラス */
        .hidden {
            display: none;
        }

        /* 変容と存在意義セクションの背景色 */
        #teacher-transformation { background-color: #e0f2f7; /* 薄い青 */ }
        #teacher-purpose { background-color: #e8f5e9; /* 薄い緑 */ }

        /* 結論メッセージの新しいスタイル */
        .conclusion-message {
            background: linear-gradient(135deg, #87CEEB 0%, #3CB371 100%); /* 落ち着いた青と緑のグラデーション */
            color: white;
            padding: 2.5rem; /* パディングを増やす */
            border-radius: 1.5rem; /* より丸く */
            box-shadow: 0 10px 30px rgba(135, 206, 235, 0.4); /* 影を強調 (グラデーションの開始色に合わせる) */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 3rem; /* 上部のマージンを増やす */
            position: relative; /* 擬似要素のために必要 */
            overflow: hidden; /* 擬似要素がはみ出さないように */
        }
        /* 微細な光沢感を追加する擬似要素 */
        .conclusion-message::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 150%; /* 要素より大きくして全体をカバー */
            height: 150%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 70%);
            transform: translate(-50%, -50%);
            opacity: 0.7; /* 控えめな光沢感 */
            z-index: 1; /* 背景とテキストの間に配置 */
            pointer-events: none; /* クリックイベントが要素を通過するようにする */
            border-radius: 1.5rem; /* 親要素の角丸に合わせる */
        }
        .conclusion-message p {
            position: relative; /* テキストを光沢の上に表示するために必要 */
            z-index: 2;
            font-size: 1.8rem; /* フォントサイズを大きく */
            line-height: 1.4;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2); /* テキストに影 */
        }
        .conclusion-message p .text-blue-700 { /* 個別に指定された色を上書き */
            color: #FFD700; /* 明るい黄色で強調 */
        }
        .conclusion-message p .text-green-700 { /* 個別に指定された色を上書き */
            color: #FFD700; /* 明るい黄色で強調 */
        }


        /* レスポンシブ調整 */
        @media (max-width: 768px) {
            body {
                padding-bottom: 12rem; /* モバイルでの固定ナビゲーションの高さに合わせて調整 (メッセージ2行分 + 再生バー) */
            }
            .container {
                padding: 1.5rem; /* モバイルでコンテナ全体のパディングを調整 */
            }
            /* タイトルと発表者名の調整 */
            .main-title {
                font-size: 1.75rem; /* スマホでタイトルを小さく */
                line-height: 1.3; /* 行の高さを調整 */
                white-space: normal; /* 折り返しを許可 */
            }
            .presenter-info {
                font-size: 0.9rem; /* スマホで発表者情報を小さく */
                line-height: 1.3;
                white-space: normal; /* 折り返しを許可 */
                text-align: center; /* 中央寄せ */
                margin-bottom: 1.5rem; /* 他のコンテンツとの間隔を調整 */
            }

            .process-section {
                padding: 1rem 1.25rem; /* モバイルで各セクション内部のパディングを調整 */
            }
            /* explanation-row のモバイル調整 */
            .explanation-row {
                flex-direction: column; /* モバイルでは縦並びに */
                gap: 0.75rem;
                width: 100%; /* 全幅を使う */
            }
            .explanation-box {
                text-align: center; /* ボックス内のテキストを中央揃え */
                min-height: auto; /* 高さの制約を解除 */
            }
            .explanation-arrow {
                transform: rotate(90deg); /* 矢印を縦向きに */
                width: 20px;
                height: 20px;
            }

            .fixed-nav-container {
                padding: 0.5rem 1rem 0.5rem; /* モバイル用のパディングを調整 */
                width: calc(100% - 2rem); /* 幅を調整 */
            }
            .fixed-nav-message-inside {
                font-size: 0.65rem; /* スマホでさらに小さく */
                margin-bottom: 0.5rem; /* ボタンとの間隔 */
                padding: 0 0.25rem; /* 左右に少しパディング */
                white-space: normal; /* テキストを折り返す */
                overflow: visible; /* オーバーフローを可視に */
                text-overflow: clip; /* 省略記号を削除 */
                line-height: 1.3; /* 行間を調整して読みやすくする */
                max-height: 2.6rem; /* 2行分の高さを目安に設定 */
            }
            .scroll-button-group { /* モバイルでボタン群を横スクロールさせる */
                flex-wrap: nowrap; /* ボタンが折り返さないようにする */
                overflow-x: auto; /* 横スクロールを有効にする */
                justify-content: flex-start; /* 左揃え */
                padding-bottom: 0.5rem; /* スクロールバーのためのスペース */
            }
            .fixed-nav-container .scroll-button,
            .fixed-nav-container .process-category-button,
            .fixed-nav-container .audio-button { /* audio-buttonもモバイルスタイルに含める */
                flex-shrink: 0; /* ボタンが縮まないようにする */
                font-size: 0.75rem; /* フォントサイズを小さく */
                padding: 0.4rem 0.6rem; /* 左右のパディングをさらに減らす */
                margin: 0.125rem; /* マージンを小さく */
                white-space: normal; /* テキストを折り返す */
                line-height: 1.2; /* 行間を調整 */
                min-height: 3rem; /* 2行に収まるように最小高さを設定 */
                display: flex; /* flexboxを適用してテキストを中央揃え */
                align-items: center;
                justify-content: center;
                text-align: center; /* テキストを中央揃え */
            }
            /* AIラジオ再生バーのモバイル調整 */
            .audio-player-controls {
                flex-direction: column; /* モバイルでは縦並び */
                gap: 0.5rem;
                padding: 0.5rem;
                max-width: 100%;
            }
            .audio-progress-bar-container {
                width: 100%;
                margin-bottom: 0.25rem;
            }
            .audio-time {
                order: -1; /* 再生時間を上に配置 */
                margin-bottom: 0.25rem;
            }
            .audio-buttons {
                width: 100%;
                justify-content: center;
            }
            .audio-buttons button {
                padding: 0.3rem 0.6rem;
                font-size: 0.7rem;
                margin: 0 0.1rem;
            }
            .audio-progress-slider {
                width: 100%;
            }

            /* 結論メッセージのモバイル調整 */
            .conclusion-message {
                padding: 1.5rem; /* モバイルで結論メッセージのパディングを調整 */
            }
            .conclusion-message p {
                font-size: 1.2rem; /* モバイルでフォントサイズを調整 */
            }
        }

        /* スクロール進捗バーのスタイル */
        .scroll-progress-container {
            width: 100%;
            height: 4px; /* バーの高さ */
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 2px;
            margin-top: 0.5rem; /* ボタン群との間隔 */
            position: relative;
            overflow: hidden; /* プログレスバーがはみ出さないように */
        }
        .scroll-progress-bar {
            height: 100%;
            width: 0%; /* 初期値 */
            background-color: #3498db; /* プログレスバーの色 */
            border-radius: 2px;
            transition: width 0.1s linear; /* スムーズな動き */
        }

        /* AIラジオ再生バーのスタイル */
        .audio-player-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 80%; /* デスクトップでの最大幅 */
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-top: 0.5rem; /* ボタン群との間隔 */
            gap: 0.5rem;
            flex-wrap: nowrap; /* 要素が折り返さないように */
        }
        .audio-progress-bar-container {
            flex-grow: 1;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            position: relative;
            cursor: pointer;
        }
        .audio-progress-bar {
            height: 100%;
            width: 0%;
            background-color: #3498db;
            border-radius: 4px;
            transition: width 0.1s linear;
        }
        .audio-progress-slider {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
            outline: none;
            margin: 0;
            padding: 0;
        }
        .audio-progress-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background-color: #2c3e50;
            border-radius: 50%;
            cursor: pointer;
            margin-top: -4px; /* スライダーのつまみを中央に配置 */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .audio-progress-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background-color: #2c3e50;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .audio-time {
            font-size: 0.8rem;
            color: #555;
            white-space: nowrap;
        }
        .audio-buttons {
            display: flex;
            gap: 0.25rem;
        }
        .audio-buttons button {
            background-color: #34495e;
            color: white;
            padding: 0.3rem 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .audio-buttons button:hover {
            background-color: #2c3e50;
        }
        .audio-buttons button svg {
            width: 1rem;
            height: 1rem;
        }

        /* AIラジオボタンのアクティブ時スタイルを調整 */
        .audio-button.active {
            box-shadow: 0 0 0 3px rgba(255, 111, 97, 0.5); /* アクティブ時の影 */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="main-title">AI×ゆとり研究</h1>
        <p class="presenter-info" style="text-align: right;">札幌市立幌西小学校　教諭　中川　宗</p>

        <!-- 固定ナビゲーションコンテナ -->
        <div class="fixed-nav-container">
            <!-- メッセージ -->
            <div class="fixed-nav-message-inside">
                AIが先生の「ゆとり」をどう生み出し、その「ゆとり」を教育の本質に注ぎ込むかを提案しています。詳細は各ボタンをタップ！
            </div>

            <!-- ボタン群をまとめるdiv -->
            <div class="scroll-button-group" id="scroll-button-group">
                <!-- 統合された「4つの業務プロセスの変容」ボタン -->
                <button class="process-category-button" id="btn-all-process-steps" onclick="scrollToSection('all-process-steps', this)">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    4つの業務プロセスの変容
                </button>
                <button class="scroll-button primary" id="btn-teacher-transformation" onclick="scrollToSection('teacher-transformation', this)">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    AIがもたらす「ゆとり」の変容
                </button>
                <button class="scroll-button secondary" id="btn-teacher-purpose" onclick="scrollToSection('teacher-purpose', this)">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                    人でしかできないこと：先生の存在意義
                </button>
                <!-- 音声再生/一時停止ボタン -->
                <button class="audio-button" id="btn-play-audio" onclick="togglePlayPause(this)">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path id="play-pause-icon-path" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"/>
                    </svg>
                    AIラジオ：研究解説を聴く
                </button>
                <button class="scroll-button close-page-button" onclick="resetToTop()">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    ページを閉じる
                </button>
            </div>
            <!-- 横スクロール進捗バー -->
            <div class="scroll-progress-container">
                <div class="scroll-progress-bar" id="scroll-progress-bar"></div>
            </div>

            <!-- AIラジオ再生コントロールバー -->
            <div class="audio-player-controls" id="audio-player-controls">
                <div class="audio-time" id="current-time">0:00</div>
                <div class="audio-progress-bar-container">
                    <div class="audio-progress-bar" id="audio-progress-bar"></div>
                    <input type="range" class="audio-progress-slider" id="audio-progress-slider" value="0" min="0" max="100">
                </div>
                <div class="audio-time" id="total-time">0:00</div>
                <div class="audio-buttons">
                    <button id="btn-rewind" title="10秒巻き戻し">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.933 12.825a.997.997 0 010-1.65l5.247-3.935a1 1 0 011.57.825v7.87a1 1 0 01-1.57.825l-5.247-3.935z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.933 12.825a.997.997 0 010-1.65l5.247-3.935a1 1 0 011.57.825v7.87a1 1 0 01-1.57.825l-5.247-3.935z"></path></svg>
                    </button>
                    <button id="btn-forward" title="10秒早送り">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.067 11.175a.997.997 0 010 1.65l-5.247 3.935a1 1 0 01-1.57-.825v-7.87a1 1 0 011.57-.825l5.247 3.935z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.067 11.175a.997.997 0 010 1.65l-5.247 3.935a1 1 0 01-1.57-.825v-7.87a1 1 0 011.57-.825l5.247 3.935z"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- 固定ナビゲーションコンテナここまで -->

        <!-- 4つの業務プロセスをまとめる新しいコンテナ -->
        <div id="all-process-steps" class="process-section hidden">
            <h2 class="main-process-title text-2xl font-bold text-gray-800 mb-6 text-center">
                <svg class="inline-block w-6 h-6 mr-2 text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                4つの業務プロセスの変容
            </h2>
            <!-- 課題設定 (Problem Setting) -->
            <div class="process-section step-1 visible" id="process-step-1">
                <h2 class="main-process-title text-2xl font-bold text-blue-700 mb-6">1. 課題設定</h2>
                <div class="section-title">明確化（漠然とした課題をはっきりさせたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual clarity-visual clarity-before">
                            <div class="shape"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual clarity-visual clarity-after">
                            <div class="shape"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="8"/></svg>
                        Before: 経験と勘に頼り、漠然とした状況から課題を探す
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                        After: AIが多角的なデータを分析し、課題の焦点をはっきりと見つける
                    </div>
                </div>

                <div class="section-title">具体化（抽象的な課題を具体的な行動に落とし込みたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual concretization-visual concretization-before">
                            <div class="shape"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual concretization-visual concretization-after">
                            <div class="shape"></div>
                            <div class="shape"></div>
                            <div class="shape"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.5a1.5 1.5 0 010-3H18a1.5 1.5 0 010 3zM18 17h-1.5a1.5 1.5 0 010-3H18a1.5 1.5 0 010 3zM6 10h1.5a1.5 1.5 0 000-3H6a1.5 1.5 0 000 3zM6 17h1.5a1.5 1.5 0 000-3H6a1.5 1.5 0 000 3z"/></svg>
                        Before: 抽象的な課題を、具体的な行動計画に落とし込むのが難しい
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="12" y1="17" x2="12" y2="7"/></svg>
                        After: AIが課題を構成する具体的な要素や、実行可能なステップに細かく分解する
                    </div>
                </div>

                <div class="section-title">多角的視点（一つの課題を様々な角度から捉えたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual perspective-visual perspective-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual perspective-visual perspective-after">
                            <div class="line-group">
                                <div class="line" style="--angle:0deg;"></div>
                                <div class="line" style="--angle:30deg;"></div>
                                <div class="line" style="--angle:60deg;"></div>
                                <div class="line" style="--angle:90deg;"></div>
                                <div class="line" style="--angle:120deg;"></div>
                                <div class="line" style="--angle:150deg;"></div>
                                <div class="line" style="--angle:180deg;"></div>
                                <div class="line" style="--angle:210deg;"></div>
                                <div class="line" style="--angle:240deg;"></div>
                                <div class="line" style="--angle:270deg;"></div>
                                <div class="line" style="--angle:300deg;"></div>
                                <div class="line" style="--angle:330deg;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                        Before: 自身の経験や限られた情報に基づき、課題を一面から捉えがち
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="2" x2="12" y2="22"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a10 10 0 0110 10c0 5.52-4.48 10-10 10S2 17.52 2 12A10 10 0 0112 2z"/></svg>
                        After: AIが膨大なデータから、課題に対する多様な視点や新たな切り口を提示する
                    </div>
                </div>
            </div>

            <!-- 情報収集 (Information Gathering) -->
            <div class="process-section step-2 visible" id="process-step-2">
                <h2 class="main-process-title text-2xl font-bold text-blue-700 mb-6">2. 情報収集</h2>
                <div class="section-title">時間（必要な情報を素早く見つけたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual info-collection-visual time-reduction-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual info-collection-visual time-reduction-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        Before: 膨大なウェブサイトや資料の中から、必要な情報を手作業で探し出す
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="13" y1="10" x2="3" y2="10"/><line x1="13" y1="6" x2="3" y2="6"/><line x1="13" y1="14" x2="3" y2="14"/><line x1="13" y1="18" x2="3" y2="18"/><polyline points="17 16 21 12 17 8"/></svg>
                        After: AIが求める情報を瞬時に検索し、要点だけを分かりやすくまとめてくれる
                    </div>
                </div>

                <div class="section-title">質（信頼できる、深い情報を得たいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual info-collection-visual quality-deepening-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual info-collection-visual quality-deepening-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="12" x2="12" y2="12.01"/></svg>
                        Before: どの情報が信頼できるか判断し、内容を深く理解するのに時間がかかる
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                        After: AIが情報の信頼性を評価し、その本質や重要なポイントを厳選して提示する
                    </div>
                </div>

                <div class="section-title">量（網羅的に情報を集めたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual info-collection-visual quantity-increase-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual info-collection-visual quantity-increase-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
                        Before: 一人で集められる情報量には限りがあり、網羅性に欠けることがある
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>
                        After: AIが広範囲の情報を網羅的に収集・処理し、見落としを防ぐ
                    </div>
                </div>
            </div>

            <!-- 整理分析 (Organization & Analysis) -->
            <div class="process-section step-3 visible" id="process-step-3">
                <h2 class="main-process-title text-2xl font-bold text-blue-700 mb-6">3. 整理分析</h2>
                <div class="section-title">構造化（散らばった情報を体系的にまとめたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual structuredness-visual structuredness-before">
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual structuredness-visual structuredness-after">
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                            <div class="structuredness-dot"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="3" x2="21" y2="21"/><path d="M16 16l3 3m-6 0l-3-3m-3 0l-3 3m6-6l3-3m-3 0l-3 3m-3 0l-3-3"/></svg>
                        Before: バラバラのデータやメモを手作業で分類し、整理するのに手間がかかる
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z"/></svg>
                        After: AIが非構造化データ（例：児童の自由記述）を自動で分析し、体系的に分類・整理する
                    </div>
                </div>

                <div class="section-title">洞察力（データから隠れた意味を見つけたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual insightfulness-visual insightfulness-before">
                            <div class="insight-line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual insightfulness-visual insightfulness-after">
                            <div class="insight-line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="8"/></svg>
                        Before: 多くのデータがあっても、その裏にある深い意味や傾向を見抜くのは難しい
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                        After: AIが大量のデータから、人間が見過ごしがちな隠れたパターンや傾向を抽出出し、新たな発見をもたらす
                    </div>
                </div>

                <div class="section-title">適時性（最新の情報をタイムリーに活用したいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual timeliness-visual timeliness-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual timeliness-visual timeliness-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        Before: 整理分析に時間がかかり、情報が古くなる
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z"/><polyline points="13 2 13 9 20 9"/><path d="M22 12h-4V8h4V12z"/></svg>
                        After: AIがリアルタイムに近い速度で情報を処理・分析する
                    </div>
                </div>
            </div>

            <!-- まとめ表現 (Summary Expression) -->
            <div class="process-section step-4 visible" id="process-step-4">
                <h2 class="main-process-title text-2xl font-bold text-blue-700 mb-6">4. まとめ表現</h2>
                <div class="section-title">効率性（簡潔で分かりやすい資料を作りたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual efficiency-visual efficiency-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual efficiency-visual efficiency-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z"/><polyline points="13 2 13 9 20 9"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>
                        Before: 文書の作成や要点抽出に多くの時間を要する
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                        After: AIが長文から要点を抽出し、簡潔で分かりやすいドラフトを自動で作成する
                    </div>
                </div>

                <div class="section-title">多様性（様々な形式で表現したいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual diversity-visual diversity-before">
                            <div class="shape"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual diversity-visual diversity-after">
                            <div class="shape square"></div>
                            <div class="shape circle"></div>
                            <div class="shape triangle"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/></svg>
                        Before: 表現方法が単調になりがちで、資料の見た目を工夫するのに手間がかかる
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                        After: AIが内容に合わせた多様な表現形式（図、グラフ、箇条書きなど）やデザイン案を提案する
                    </div>
                </div>

                <div class="section-title">伝達力（相手に強くメッセージを伝えたいとき）</div>
                <div class="concept-visual-group">
                    <div class="visual-item">
                        <div class="visual-label">Before</div>
                        <div class="concept-visual impact-visual impact-before">
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="visual-item">
                        <div class="visual-label">After</div>
                        <div class="concept-visual impact-visual impact-after">
                            <div class="line"></div>
                        </div>
                    </div>
                </div>
                <div class="explanation-row">
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        Before: 伝えたいメッセージが相手に響くよう、表現を工夫するのに悩む
                    </div>
                    <div class="explanation-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                        </svg>
                    </div>
                    <div class="explanation-box">
                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4zM22 12h-4"/></svg>
                        After: AIがデータに基づき、説得力のある表現や効果的な視覚化のアイデアを提供し、メッセージの伝達力を高める
                    </div>
                </div>
            </div>
        </div>

        <!-- 結論メッセージ -->
        <div class="conclusion-message">
            <p>
                AIで先生の<span class="text-blue-700">「時間」と「質」を最大化</span>し、<br>
                <span class="text-green-700">「ゆとり」ある教育</span>を創る。
            </p>
        </div>

        <!-- AIがもたらす「ゆとり」が先生にもたらす変容 -->
        <div id="teacher-transformation" class="process-section hidden" style="background-color: #e0f2f7;">
            <h2 class="main-process-title text-2xl font-bold text-gray-800 mb-8 text-center">
                <svg class="inline-block w-6 h-6 mr-2 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                AIがもたらす「ゆとり」が先生にもたらす変容
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 子どもと深く向き合う時間が増える -->
                <div class="flex items-start bg-blue-50 p-4 rounded-lg shadow-sm">
                    <div>
                        <p class="font-bold text-blue-800 text-lg mb-1">子どもと深く向き合う時間が増える</p>
                        <p class="text-sm text-gray-700">
                            一人ひとりの児童の<span class="font-semibold text-blue-700">声にじっくり耳を傾け</span>、個別の悩みや成長に寄り添う。<br>
                            教科指導だけでなく、<span class="font-semibold text-blue-700">生活指導や心のケア</span>により時間を割く。<br>
                            児童の<span class="font-semibold text-blue-700">創造性や探究心を引き出す</span>対話や活動に集中する。
                        </p>
                    </div>
                </div>

                <!-- 同僚との「深い対話」と協働が生まれる -->
                <div class="flex items-start bg-green-50 p-4 rounded-lg shadow-sm">
                    <div>
                        <p class="font-bold text-green-800 text-lg mb-1">同僚との「深い対話」と協働が生まれる</p>
                        <p class="text-sm text-gray-700">
                            日々の雑務に追われず、<span class="font-semibold text-green-700">教育理念や指導法について深く議論</span>する時間を確保する。<br>
                            互いの専門性を活かし、AIでは得られない<span class="font-semibold text-green-700">実践的な知恵や経験を共有</span>し、チームとしての教育力を高める。<br>
                            若手教員への丁寧な指導や、<span class="font-semibold text-green-700">信頼関係に基づいたメンタリング</span>を行う。
                        </p>
                    </div>
                </div>

                <!-- 教材研究や授業改善に没頭できる -->
                <div class="flex items-start bg-purple-50 p-4 rounded-lg shadow-sm">
                    <div>
                        <p class="font-bold text-purple-800 text-lg mb-1">教材研究や授業改善に没頭できる</p>
                        <p class="text-sm text-gray-700">
                            AIが提供する情報を基に、自身の教育観や児童の実態に合わせて<span class="font-semibold text-purple-700">教材をさらに練り上げる</span>。<br>
                            新しい指導法や教育理論を<span class="font-semibold text-purple-700">じっくり学び、実践に繋げる</span>ための時間を確保する。<br>
                            より<span class="font-semibold text-purple-700">創造的で魅力的な授業づくり</span>に集中し、教育の質を深める。
                        </p>
                    </div>
                </div>

                <!-- 心身のゆとりとウェルビーイングの向上 -->
                <div class="flex items-start bg-yellow-50 p-4 rounded-lg shadow-sm">
                    <div>
                        <p class="font-bold text-yellow-800 text-lg mb-1">心身のゆとりとウェルビーイングの向上</p>
                        <p class="text-sm text-gray-700">
                            定時退勤や残業時間の削減により、<span class="font-semibold text-yellow-700">早く家に帰り、家族との時間</span>を大切にする。<br>
                            趣味やスポーツ、読書など、<span class="font-semibold text-yellow-700">自身の心身をリフレッシュ</span>し、充実させる時間を確保する。<br>
                            十分な休息を取ることで、<span class="font-semibold text-yellow-700">ストレスが軽減され、仕事へのモチベーションや集中力が高まる</span>。
                        </p>
                    </div>
                </div>

                <!-- 保護者や地域との連携が深化する -->
                <div class="flex items-start bg-red-50 p-4 rounded-lg shadow-sm md:col-span-2"> <!-- Span 2 columns on larger screens -->
                    <div>
                        <p class="font-bold text-red-800 text-lg mb-1">保護者や地域との連携が深化する</p>
                        <p class="text-sm text-gray-700">
                            事務的な連絡だけでなく、<span class="font-semibold text-red-700">保護者一人ひとりの状況に合わせた丁寧なコミュニケーション</span>を図る。<br>
                            地域行事への参加や、<span class="font-semibold text-red-700">学校と地域が連携した教育活動</span>の企画により時間を割く。
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI時代に「人でしかできないこと」：先生の揺るぎない存在意義 - インフォグラフィック -->
        <div id="teacher-purpose" class="process-section hidden" style="background-color: #e8f5e9;">
            <h2 class="main-process-title text-2xl font-bold text-gray-800 mb-8 text-center">
                <svg class="inline-block w-6 h-6 mr-2 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
                AI時代に「人でしかできないこと」：先生の揺るぎない存在意義
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 1. 子どもと深く向き合う「心の教育」 -->
                <div class="infographic-card bg-red-50 p-6 rounded-xl shadow-md flex items-start space-x-4">
                    <div>
                        <h3 class="font-bold text-lg text-red-800 mb-2">子どもと深く向き合う「心の教育」</h3>
                        <p class="text-sm text-gray-700">
                            AIではできない感情の機微を察知し、共感に基づいた心のケアや信頼関係の構築。自己肯定感を育み、社会性や倫理観、多様な他者との関わり方を教えます。いじめや不登校への個別対応、保護者との連携も人間ならではの役割です。
                        </p>
                    </div>
                </div>

                <!-- 2. 創造性を刺激する「問い」と「学びの場」のデザイン -->
                <div class="infographic-card bg-yellow-50 p-6 rounded-xl shadow-md flex items-start space-x-4">
                    <div>
                        <h3 class="font-bold text-lg text-yellow-800 mb-2">創造性を刺激する「問い」と「学びの場」のデザイン</h3>
                        <p class="text-sm text-gray-700">
                            子どもの興味や好奇心を引き出し、未解明な事柄への探究心を刺激する「問い」をデザイン。失敗を恐れずに挑戦できる安全な学習環境を創り、多様な価値観が共存する「学びのコミュニティ」を形成します。
                        </p>
                    </div>
                </div>

                <!-- 3. 育成のための「あえての選択」と深い教育的判断 -->
                <div class="infographic-card bg-purple-50 p-6 rounded-xl shadow-md flex items-start space-x-4">
                    <div>
                        <h3 class="font-bold text-lg text-purple-800 mb-2">育成のための「あえての選択」と深い教育的判断</h3>
                        <p class="text-sm text-gray-700">
                            「あえて失敗させる」ことで、子どもが自ら考え、工夫し、乗り越える力を育みます。AIの最適解の先を行く、経験に裏打ちされた深い洞察を若手教員に伝え、共に最善の育成方法を考える時間を創出します。
                        </p>
                    </p>
                    </div>
                </div>

                <!-- 4. 未来を生き抜く「非認知能力」の育成 -->
                <div class="infographic-card bg-blue-50 p-6 rounded-xl shadow-md flex items-start space-x-4">
                    <div>
                        <h3 class="font-bold text-lg text-blue-800 mb-2">未来を生き抜く「非認知能力」の育成</h3>
                        <p class="text-sm text-gray-700">
                            粘り強さ、自己調整能力、コミュニケーション能力、リーダーシップといった非認知能力は、教師と子ども、子ども同士の生身の関わりの中で育まれます。教師自身の人間性や信頼関係がその基盤となります。
                        </p>
                    </div>
                </div>
            </div>
            <div class="mt-8 p-6 bg-gray-100 rounded-xl shadow-inner text-center text-gray-700 text-lg font-semibold">
                AIは先生方の強力なパートナーとなり、業務を効率化し、先生方に「ゆとり」をもたらします。この「ゆとり」を、先生方はAIにはできない教育の本質的な価値、すなわち子どもたちの人間的な成長を深く見守り、未来を拓くための「人だからこその教育」に注ぎ込むことで、その存在意義を一層高め、より豊かな教育現場を創り出していくことができるでしょう。
            </div>
        </div>

        <!-- 先生のアプリ紹介 -->
        <div class="mt-12 pt-8 border-t-2 border-gray-300">
            <h2 class="main-process-title text-2xl font-bold text-gray-800 mb-6 text-center">
                「ゆとり」ある先生ライフをサポートするアプリ
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <!-- アプリ1: AIプロンプト作成アシスタント -->
                <div class="bg-blue-100 p-6 rounded-xl shadow-md flex flex-col items-center text-center">
                    <h3 class="font-bold text-blue-800 mb-2">AIプロンプト作成アシスタント</h3>
                    <p class="text-sm text-gray-700 mb-4">
                        生成AIへの効果的な「問いかけ方」を簡単に学べます。
                    </p>
                    <a href="https://sensei-ai-prompt-maker-app.web.app/" target="_blank" rel="noopener noreferrer"
                       class="inline-block bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out">
                        アプリを使ってみる
                    </a>
                </div>

                <!-- アプリ2: さっぽろ若手教員応援システム〜デジとらAI〜 -->
                <div class="bg-green-100 p-6 rounded-xl shadow-md flex flex-col items-center text-center">
                    <h3 class="font-bold text-green-800 mb-2">さっぽろ若手教員応援システム〜デジとらAI〜</h3>
                    <p class="text-sm text-gray-700 mb-4">
                        札幌市の教育目標や指導要領に沿った授業案を自動生成します。
                    </p>
                    <a href="https://wakate-ikusei.web.app/" target="_blank" rel="noopener noreferrer"
                       class="inline-block bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 ease-in-out">
                        アプリを使ってみる
                    </a>
                </div>
            </div>
            <p class="text-center text-gray-700 text-lg font-semibold mb-4">
                これらのアプリを活用して、ぜひ「ゆとり」のある先生ライフを実現してください！
            </p>
            <p class="text-center" style="font-family: 'Georgia', serif; font-style: italic; color: #7f8c8d; font-size: 0.9rem;">
                ※このサイトも資料も、アプリも全てGoogle Gemini（生成AI）とのチャットのみで作成されています。
            </p>
        </div>
    </div>

    <script>
        // 音声ファイルのURL (GitHub Pagesで公開された音声ファイルのURLに置き換えてください)
        // 例: https://sonakagawa712-svg.github.io/ai-infographic/ai_yutori_kenkyu_mirai.m4a
        const AUDIO_URL = 'https://sonakagawa712-svg.github.io/ai-infographic/ai_yukari1.m4a'; 
        let audioPlayer = new Audio(AUDIO_URL);
        let isPlaying = false; // 音声が再生中かどうか

        // SVGアイコンのパスデータ
        const PLAY_ICON_PATH_DATA = "M5 3l14 9-14 9V3z";
        const PAUSE_ICON_PATH_DATA = "M6 4h4v16H6zM14 4h4v16h-4z";

        // すべてのセクションIDを配列にまとめる
        const allSectionIds = [
            'all-process-steps', // 新しく追加した統合セクション
            'teacher-transformation',
            'teacher-purpose'
        ];
        // 統合された業務プロセス内の個別のステップID
        const individualProcessStepIds = [
            'process-step-1', 'process-step-2', 'process-step-3', 'process-step-4'
        ];

        // すべてのボタンIDを配列にまとめる
        const allButtonIds = [
            'btn-all-process-steps', // 新しく追加した統合ボタン
            'btn-teacher-transformation',
            'btn-teacher-purpose',
            'btn-play-audio' // 音声ボタンも追加
        ];

        // スクロール進捗バーの要素
        const scrollButtonGroup = document.getElementById('scroll-button-group');
        const scrollProgressBar = document.getElementById('scroll-progress-bar');

        // AIラジオのコントロール要素
        const playPauseButton = document.getElementById('btn-play-audio');
        const playPauseIconPath = document.getElementById('play-pause-icon-path');
        const audioPlayerControls = document.getElementById('audio-player-controls');
        const currentTimeDisplay = document.getElementById('current-time');
        const totalTimeDisplay = document.getElementById('total-time');
        const audioProgressBar = document.getElementById('audio-progress-bar');
        const audioProgressSlider = document.getElementById('audio-progress-slider');
        const btnRewind = document.getElementById('btn-rewind');
        const btnForward = document.getElementById('btn-forward');

        // 時間をフォーマットするヘルパー関数
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
        }

        // スクロール進捗バーの更新
        function updateScrollProgressBar() {
            if (scrollButtonGroup) {
                const scrollWidth = scrollButtonGroup.scrollWidth - scrollButtonGroup.clientWidth;
                if (scrollWidth > 0) {
                    const scrollProgress = (scrollButtonGroup.scrollLeft / scrollWidth) * 100;
                    scrollProgressBar.style.width = `${scrollProgress}%`;
                } else {
                    scrollProgressBar.style.width = '0%';
                }
            }
        }

        // セクションを表示し、他のセクションを非表示にする関数
        function scrollToSection(id, clickedButton) {
            allSectionIds.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.classList.add('hidden');
                    section.classList.remove('visible');
                }
            });
            individualProcessStepIds.forEach(stepId => {
                const step = document.getElementById(stepId);
                if (step) {
                    step.classList.add('hidden');
                    step.classList.remove('visible');
                }
            });

            allButtonIds.forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.classList.remove('active');
                }
            });

            const targetSection = document.getElementById(id);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                setTimeout(() => {
                    targetSection.classList.add('visible');
                }, 10);

                if (clickedButton) {
                    clickedButton.classList.add('active');
                }

                if (id === 'all-process-steps') {
                    individualProcessStepIds.forEach(stepId => {
                        const step = document.getElementById(stepId);
                        if (step) {
                            step.classList.remove('hidden');
                            setTimeout(() => {
                                step.classList.add('visible');
                            }, 10);
                        }
                    });
                }

                const offset = 80;
                const bodyRect = document.body.getBoundingClientRect().top;
                const elementRect = targetSection.getBoundingClientRect().top;
                const elementPosition = elementRect - bodyRect;
                window.scrollTo({
                    top: elementPosition - offset,
                    behavior: 'smooth'
                });
            }
            // セクション移動時は音声を停止しない (再生継続)
        }

        // トップ画面に戻る（すべてのセクションを非表示にする）関数
        function resetToTop() {
            allSectionIds.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.classList.add('hidden');
                    section.classList.remove('visible');
                }
            });
            individualProcessStepIds.forEach(stepId => {
                const step = document.getElementById(stepId);
                if (step) {
                    step.classList.add('hidden');
                    step.classList.remove('visible');
                }
            });

            allButtonIds.forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.classList.remove('active');
                }
            });

            const container = document.querySelector('.container');
            if (container) {
                container.classList.remove('hidden');
                setTimeout(() => {
                    container.classList.add('visible');
                }, 10);
            }

            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            // トップに戻る時は音声を停止
            stopAudio();
        }

        // 再生/一時停止を切り替える関数
        function togglePlayPause(button) {
            if (isPlaying) {
                audioPlayer.pause();
                isPlaying = false;
                playPauseIconPath.setAttribute('d', PLAY_ICON_PATH_DATA); // 再生アイコンに
                button.classList.remove('active'); // ボタンのアクティブ状態を解除
            } else {
                audioPlayer.play();
                isPlaying = true;
                playPauseIconPath.setAttribute('d', PAUSE_ICON_PATH_DATA); // 一時停止アイコンに
                button.classList.add('active'); // ボタンをアクティブ状態に
                audioPlayerControls.style.display = 'flex'; // 再生バーを表示
            }
        }

        // 音声を完全に停止する関数 (再生バーも非表示)
        function stopAudio() {
            audioPlayer.pause();
            audioPlayer.currentTime = 0; // 再生位置を最初に戻す
            isPlaying = false;
            playPauseIconPath.setAttribute('d', PLAY_ICON_PATH_DATA); // 再生アイコンに
            playPauseButton.classList.remove('active'); // ボタンのアクティブ状態を解除
            audioPlayerControls.style.display = 'none'; // 再生バーを非表示
        }

        // AIラジオのイベントリスナー
        audioPlayer.addEventListener('loadedmetadata', () => {
            totalTimeDisplay.textContent = formatTime(audioPlayer.duration);
            audioProgressSlider.max = audioPlayer.duration;
            // 初期状態では再生アイコン
            playPauseIconPath.setAttribute('d', PLAY_ICON_PATH_DATA);
        });

        audioPlayer.addEventListener('timeupdate', () => {
            currentTimeDisplay.textContent = formatTime(audioPlayer.currentTime);
            audioProgressSlider.value = audioPlayer.currentTime;
            audioProgressBar.style.width = `${(audioPlayer.currentTime / audioPlayer.duration) * 100}%`;
        });

        audioPlayer.addEventListener('ended', () => {
            stopAudio();
        });

        audioProgressSlider.addEventListener('input', () => {
            audioPlayer.currentTime = audioProgressSlider.value;
            // スライダー操作中に再生が一時停止している場合は、再生アイコンに戻す
            if (!isPlaying) {
                playPauseIconPath.setAttribute('d', PLAY_ICON_PATH_DATA);
                playPauseButton.classList.remove('active');
            }
        });

        btnRewind.addEventListener('click', () => {
            audioPlayer.currentTime = Math.max(0, audioPlayer.currentTime - 10); // 10秒巻き戻し
        });

        btnForward.addEventListener('click', () => {
            audioPlayer.currentTime = Math.min(audioPlayer.duration, audioPlayer.currentTime + 10); // 10秒早送り
        });

        // ページロード時にすべてのセクションを非表示にする
        document.addEventListener('DOMContentLoaded', () => {
            resetToTop();
            // 初期状態ではAIラジオコントロールバーを非表示にする
            audioPlayerControls.style.display = 'none';
            // スクロールイベントリスナーを設定
            if (scrollButtonGroup) {
                scrollButtonGroup.addEventListener('scroll', updateScrollProgressBar);
                // 初期表示時に一度更新
                updateScrollProgressBar();
            }
        });
        // ウィンドウのリサイズ時にもスクロールバーを更新
        window.addEventListener('resize', updateScrollProgressBar);
    </script>
</body>
</html>
